{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Byte Shop\\\\Downloads\\\\myApp-reactjs-master\\\\src\\\\components\\\\ItemListContainer\\\\ItemListContainer.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\"; // import { getProducts, getProductsByCategory } from \"../../asyncMock\"\n\nimport ItemList from \"../ItemList/ItemList\";\nimport './ItemListContainer.css';\nimport { useParams } from \"react-router-dom\";\nimport { getDocs, collection, query, where } from \"firebase/firestore\";\nimport { db } from \"../../services/firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ItemListContainer = _ref => {\n  _s();\n\n  let {} = _ref;\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    categoryId\n  } = useParams();\n  useEffect(() => {\n    const collectionRef = !categoryId ? collection(db, 'products') : query(collection(db, 'products'), where('category', '==', categoryId));\n    getDocs(collectionRef).then(response => {\n      const products = response.docs.map(doc => {\n        const values = doc.data();\n        return {\n          id: doc.id,\n          ...values\n        };\n      });\n      setProducts(products);\n    }).catch(error => {\n      console.log(error);\n    }).finally(() => {\n      setLoading(false);\n    }); // const categoria = categoryId ? getProductsByCategory : getProducts\n    // categoria(categoryId).then(response => {\n    //     setProducts(response)\n    // }).catch(error => {\n    //     console.log(error)\n    // }).finally(() => {\n    //     setLoading(false)\n    // })\n  }, [categoryId]); // useEffect(()=>{\n  //     getProducts().then(response =>{\n  //         setProducts(response)\n  //     }).catch(error =>{\n  //         console.log('error')\n  //     }).finally(()=>{\n  //         setLoading(false)\n  //     })\n  // }, [])\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Espera mientras cargamos los productos...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ItemList, {\n        products: products\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(ItemListContainer, \"TimBWtSnC6UEhQwZRZVYJqPYjjI=\", false, function () {\n  return [useParams];\n});\n\n_c = ItemListContainer;\nexport default ItemListContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemListContainer\");","map":{"version":3,"names":["useState","useEffect","ItemList","useParams","getDocs","collection","query","where","db","ItemListContainer","products","setProducts","loading","setLoading","categoryId","collectionRef","then","response","docs","map","doc","values","data","id","catch","error","console","log","finally"],"sources":["C:/Users/Byte Shop/Downloads/myApp-reactjs-master/src/components/ItemListContainer/ItemListContainer.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\n// import { getProducts, getProductsByCategory } from \"../../asyncMock\"\nimport ItemList from \"../ItemList/ItemList\"\nimport './ItemListContainer.css'\nimport { useParams } from \"react-router-dom\"\nimport { getDocs, collection, query, where } from \"firebase/firestore\"\nimport { db } from \"../../services/firebase\"\n\nconst ItemListContainer = ({})=>{\n    const [products, setProducts]= useState([])\n    const [loading , setLoading] = useState(true)\n\n    const { categoryId } = useParams()\n\n    useEffect(() => {\n\n        const collectionRef = !categoryId ? collection(db, 'products'): query(collection(db, 'products'), where('category', '==', categoryId))\n\n        getDocs(collectionRef).then(response => {\n            const products = response.docs.map(doc => {\n                const values = doc.data()\n                return{id: doc.id, ...values}\n            })\n            setProducts(products)\n        }).catch(error => {\n            console.log(error)\n        }).finally(() => {\n            setLoading(false)\n        })\n\n        // const categoria = categoryId ? getProductsByCategory : getProducts\n        \n        // categoria(categoryId).then(response => {\n        //     setProducts(response)\n        // }).catch(error => {\n        //     console.log(error)\n        // }).finally(() => {\n        //     setLoading(false)\n        // })\n    }, [categoryId])\n\n    // useEffect(()=>{\n    //     getProducts().then(response =>{\n    //         setProducts(response)\n    //     }).catch(error =>{\n    //         console.log('error')\n    //     }).finally(()=>{\n    //         setLoading(false)\n    //     })\n    // }, [])\n\n    if(loading){\n        return <h2>Espera mientras cargamos los productos...</h2>\n    }\n        \n    return(\n        <>\n            {/* <h2>{greeting}</h2> */}\n            <div>\n                <ItemList products={products}/>\n            </div>\n        </>\n    )\n}\n\nexport default ItemListContainer"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC,C,CACA;;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAO,yBAAP;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,OAAT,EAAkBC,UAAlB,EAA8BC,KAA9B,EAAqCC,KAArC,QAAkD,oBAAlD;AACA,SAASC,EAAT,QAAmB,yBAAnB;;;;AAEA,MAAMC,iBAAiB,GAAG,QAAM;EAAA;;EAAA,IAAL,EAAK;EAC5B,MAAM,CAACC,QAAD,EAAWC,WAAX,IAAyBX,QAAQ,CAAC,EAAD,CAAvC;EACA,MAAM,CAACY,OAAD,EAAWC,UAAX,IAAyBb,QAAQ,CAAC,IAAD,CAAvC;EAEA,MAAM;IAAEc;EAAF,IAAiBX,SAAS,EAAhC;EAEAF,SAAS,CAAC,MAAM;IAEZ,MAAMc,aAAa,GAAG,CAACD,UAAD,GAAcT,UAAU,CAACG,EAAD,EAAK,UAAL,CAAxB,GAA0CF,KAAK,CAACD,UAAU,CAACG,EAAD,EAAK,UAAL,CAAX,EAA6BD,KAAK,CAAC,UAAD,EAAa,IAAb,EAAmBO,UAAnB,CAAlC,CAArE;IAEAV,OAAO,CAACW,aAAD,CAAP,CAAuBC,IAAvB,CAA4BC,QAAQ,IAAI;MACpC,MAAMP,QAAQ,GAAGO,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkBC,GAAG,IAAI;QACtC,MAAMC,MAAM,GAAGD,GAAG,CAACE,IAAJ,EAAf;QACA,OAAM;UAACC,EAAE,EAAEH,GAAG,CAACG,EAAT;UAAa,GAAGF;QAAhB,CAAN;MACH,CAHgB,CAAjB;MAIAV,WAAW,CAACD,QAAD,CAAX;IACH,CAND,EAMGc,KANH,CAMSC,KAAK,IAAI;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACH,CARD,EAQGG,OARH,CAQW,MAAM;MACbf,UAAU,CAAC,KAAD,CAAV;IACH,CAVD,EAJY,CAgBZ;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;EACH,CAzBQ,EAyBN,CAACC,UAAD,CAzBM,CAAT,CAN4B,CAiC5B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,IAAGF,OAAH,EAAW;IACP,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACH;;EAED,oBACI;IAAA,uBAEI;MAAA,uBACI,QAAC,QAAD;QAAU,QAAQ,EAAEF;MAApB;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EAFJ,iBADJ;AAQH,CAvDD;;GAAMD,iB;UAIqBN,S;;;KAJrBM,iB;AAyDN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}